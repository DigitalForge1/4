(function(a){if(!$("#twitter")[0])return;var b=a.App,c=b.models.userProfile,d=b.models.login,e=b.models.twitter;b.Routes=Backbone.Router.extend({routes:{timelines:"timelines",tweets:"tweets",friends:"friends",followers:"followers",":user/timelines":"userTimelines",":user/tweets":"userTweets",":user/friends":"userFriends",":user/followers":"userFollowers","*catchall":"catchAll"},initialize:function(a){this.app=a.app},timelines:function(){this.app.route("twitterProfileChange",d.get("screenName"),"timelines")},tweets:function(){this.app.route("twitterProfileChange",d.get("screenName"),"tweets")},friends:function(){this.app.route("twitterProfileChange",d.get("screenName"),"friends")},followers:function(){this.app.route("twitterProfileChange",d.get("screenName"),"followers")},userTimelines:function(a){this.app.route("twitterProfileChange",a,"timelines")},userTweets:function(a){this.app.route("twitterProfileChange",a,"tweets")},userFriends:function(a){this.app.route("twitterProfileChange",a,"friends")},userFollowers:function(a){this.app.route("twitterProfileChange",a,"followers")},catchAll:function(){console.log("this is a default route"),this.timelines()}}),b.routes=new b.Routes({app:b}),c.bind("change",function(a){a.hasTwitterAuth()&&e.twitterProfileChange(e.get("screenName")||a.get("twitterScreenName")),d.set({displayName:a.get("displayName")})}),d.bind("change:isAuthenticated",function(){b.isAuth()?c.fetch():c.clear()})})(window)